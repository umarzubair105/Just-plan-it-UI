<nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm px-3">

  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="#">AutoPlan</a>

    <button class="navbar-toggle" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarContent" aria-controls="navbarContent"
            aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggle-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">
      <!-- Left-side nav -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item" *ngIf="companyName">
          <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">{{ companyName }}</a>
        </li>

<!--
        <a class="nav-link" routerLink="/home" routerLinkActive="active">Home</a>
-->
        <li class="nav-item dropdown"  *ngIf="userName">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
             role="button" data-bs-toggle="dropdown" aria-expanded="false">
            HR
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="upload-resource#">Upload Resources</a></li>
            <li><a class="dropdown-item" href="mapping-roles-designation#">Role Mapping</a></li>
            <li><a class="dropdown-item" href="company-calendar#">Calendar</a></li>
            <li><a class="dropdown-item" href="resource#">Resource</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">Something else</a></li>
          </ul>
        </li>
        <li class="nav-item"  *ngIf="userName">
          <a class="nav-link"
             routerLink="/product"
             routerLinkActive="active"
             [attr.aria-current]="router.url.startsWith('product') ? 'page' : null">
            Add new Product</a>
        </li>
        <li class="nav-item d-flex align-items-center me-2" *ngIf="userName">
          <label class="me-1 small fw-bold" for="productSelect">Product:</label>
          <select class="form-select form-select-sm"
                  id="productSelect"
                  [(ngModel)]="selectedProductId"
                  (ngModelChange)="onProductChange($event)">
            <option value="0" disabled>Select a product</option>
            <option *ngFor="let p of products" [value]="p.id">{{ p.name }}</option>
          </select>
        </li>
        <li class="nav-item dropdown"  *ngIf="selectedProductId>0">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownProductRel"
             role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Release
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownProductRel">
            <li><a class="dropdown-item" routerLink="/planning" title="Releases & Epics in planning process">Planning</a></li>
            <li><a class="dropdown-item" routerLink="/planned" title="Planned Releases">Planned</a></li>
            <li><a class="dropdown-item" routerLink="/execution" title="Releases in progress">Execution</a></li>
            <li><a class="dropdown-item" routerLink="/executed" title="Completed Releases">Executed</a></li>
            <li><a class="dropdown-item" routerLink="/planned-release" title="Planned Releases 2">Planned 2</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown"  *ngIf="selectedProductId>0">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownProduct"
             role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Product Metadata
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownProduct">
            <li><a class="dropdown-item" routerLink="/upload-epic">Upload Deliverables</a></li>
            <li><a class="dropdown-item" routerLink="/team-resource">Define Team</a></li>
            <li><a class="dropdown-item" routerLink="/product-resource">Time Allocation</a></li>
            <li><a class="dropdown-item" routerLink="/priority">Define Priorities</a></li>
            <li><a class="dropdown-item" routerLink="/section">Define Components</a></li>
            <li><a class="dropdown-item" routerLink="/edit-product">Products</a></li>
          </ul>
        </li>
        <li class="nav-item"  *ngIf="userName">
          <a class="nav-link" (click)="openDialogForMyLeaves()" style="cursor: pointer;">My Leaves</a>
        </li>

<!--        <li class="nav-item" *ngIf="companyName">
          Company Name
          <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">{{ companyName }}</a>
        </li>-->
      </ul>
      <!-- Centered company name -->
  <!--    <span *ngIf="companyName" class="position-absolute top-50 start-50 translate-middle text-muted fw-semibold">
          {{ companyName }}
       </span>-->
      <!-- Right-side user info and search -->
      <ul class="navbar-nav mb-2 mb-lg-0 d-flex align-items-center">
        <li class="nav-item"><a class="nav-link" href="#" >Home</a></li>
        <li class="nav-item"><a class="nav-link" href="#" *ngIf="!userName">About Us</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Contact Us</a></li>
        <li class="nav-item me-3" *ngIf="userName">
          <form  #useForm="ngForm" class="d-flex" role="search" (ngSubmit)="onSubmit()">
            <input class="form-control form-control-sm me-1" type="search" id="search"
                   placeholder="Search"
                   name="search"
                   [(ngModel)]="epicSearch.code"
                   #search="ngModel">
            <button class="btn btn-outline-primary btn-sm" type="submit">Search</button>
          </form>
        </li>

        <li class="nav-item" *ngIf="userName">
          <span class="nav-link text-dark">Hi, {{ userName }}</span>
        </li>
        <li class="nav-item" *ngIf="userName">
          <button class="btn btn-sm btn-outline-danger ms-2" (click)="logout()">Logout</button>
        </li>
        <li class="nav-item" *ngIf="!userName">
          <a class="nav-link" href="login#">
            <i class="bi bi-box-arrow-in-right me-1"></i> Login
          </a>
        </li>
        <li class="nav-item" *ngIf="!userName">
          <a class="nav-link" href="company#">Company Sign Up</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


