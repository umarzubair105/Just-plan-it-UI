  <div class="container">
    <div class="card shadow-lg">
      <div class="card-header bg-primary text-white text-center">
        <h3>Estimate for Epic: {{epicBean.title}}</h3>
      </div>
      <form  #userForm="ngForm" >
        <table class="table table-bordered text-dark" >
          <thead class="table-dark">
          <tr>
            <th>Role</th>
            <th>Hours</th>
            <th>Resources</th>
            <th>Action</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let epicEstimate of epicEstimatBeans; let i = index">
            <td>
              {{ epicEstimate.roleName }}
            </td>
            <td> <input id="hours-{{ i }}" [(ngModel)]="epicEstimate.hours" type="number"
                        name="hours-{{ i }}"
                        required class="form-control"
                        min="0"
                    #hours="ngModel"
                        [ngClass]="{ 'is-invalid': hours.invalid && (hours.dirty || hours.touched) }"
                        [showErrors]="{ required: 'Hours is required',min: 'Min value is 0', step:'Step' }"
                    />
            </td>
            <td> <input id="resources-{{ i }}" [(ngModel)]="epicEstimate.resources" type="number"
                        name="resources-{{ i }}"
                        required class="form-control"
                        min="1"
                        #resources="ngModel"
                        [ngClass]="{ 'is-invalid': resources.invalid && (resources.dirty || resources.touched) }"
                        [showErrors]="{ required: 'Resources is required',min: 'Min value is 1', step:'Step' }"
                        />
            </td>
            <td>
              <button class="btn btn-danger btn-sm"  (click)="removeEpicEstimate(i)" [disabled]="epicEstimate.hours==0">Not Required</button>
            </td>
          </tr>
          </tbody>
        </table>
        <button type="submit" class="btn btn-primary btn-sm" [disabled]="userForm.invalid" (click)="onSubmit(userForm)">Save</button>
        <button type="submit" class="btn btn-secondary btn-sm" (click)="closeDialog()">Close</button>
      </form>
    </div>
  </div>



<!--


        <div class="card-body">
          @for (epicEstimate of epicEstimatBeans; track epicEstimate) {
            <div class="row">
              <div>
                <label for="epicId" class="form-label">Epic ID:</label>
                <input
                  type="number"
                  id="epicId"
                  [(ngModel)]="epicEstimate.epicId"
                  class="form-control"
                  name="epicId"
                  required
                />
              </div>
              <div>
                <label for="resources" class="form-label">Resources:</label>
                <input
                  type="number"
                  id="resources"
                  [(ngModel)]="epicEstimate.resources"
                  class="form-control"
                  name="resources"
                  required
                />
              </div>
              <div>
                <label for="hours" class="form-label">Hours:</label>
                <input
                  type="number"
                  id="hours"
                  [(ngModel)]="epicEstimate.hours"
                  class="form-control"
                  name="hours"
                  required
                />
              </div>
              <div>
                <label for="roleId" class="form-label">Role ID:</label>
                <input
                  type="number"
                  id="roleId"
                  [(ngModel)]="epicEstimate.roleId"
                  class="form-control"
                  name="roleId"
                  required
                />
              </div>
              <div>
                <label for="resourceId" class="form-label">Resource ID:</label>
                <input
                  type="number"
                  id="resourceId"
                  [(ngModel)]="epicEstimate.resourceId"
                  class="form-control"
                  name="resourceId"
                />
              </div>
              <div>
                <label class="form-label">
                  <input
                    type="checkbox"
                    [(ngModel)]="epicEstimate.changedManually"
                    class="form-control"
                    name="changedManually"
                  />
                  Changed Manually
                </label>
              </div>
            </div>
          }
          -->
